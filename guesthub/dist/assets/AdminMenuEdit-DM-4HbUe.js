import{b as p,u as h,R as a,V as g,j as e,S as j}from"./index-CtBX9Jbf.js";import{A as v}from"./AdminMenuForm-Dy2tdqDw.js";const S=()=>{const{id:s}=p(),o=h(),[n,u]=a.useState(null),[c,i]=a.useState(!0),[m,r]=a.useState(!1),[l,d]=a.useState(null);a.useEffect(()=>{(async()=>{try{i(!0),d(null);const t=await g(s);u(t)}catch(t){d(t?.response?.data?.error||"Failed to load item")}finally{i(!1)}})()},[s]);const x=async t=>{try{r(!0),await j(s,t),o("/admin/menu")}catch(f){console.error("Failed to update",f)}finally{r(!1)}};return c?e.jsx("div",{className:"p-8 text-neutral-500",children:"Loading dish details..."}):l?e.jsx("div",{className:"p-4 bg-red-50 text-red-600 rounded-lg",children:l}):n?e.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-display font-semibold text-neutral-900",children:"Edit Dish"}),e.jsxs("p",{className:"text-neutral-500",children:["Update details for ",n.name]})]}),e.jsx(v,{initial:n,onSubmit:x,submitting:m})]}):e.jsx("div",{className:"p-4 text-neutral-500",children:"Dish not found."})};export{S as default};
