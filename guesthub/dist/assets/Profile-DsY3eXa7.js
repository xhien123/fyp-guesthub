import{g as K,u as Q,d as Z,R as p,z as ee,A as te,B as se,j as e,L as g}from"./index-DGXRDi1R.js";import{b as B}from"./Beach front pic 1-BWn22A0p.js";import{v as re}from"./vive grill buffe outside-CN5VqGn7.js";import{D as ae}from"./Dine in photo-BrW7_6uB.js";import{C as ne,M as ie,Y as le,S as oe}from"./Sunset Yoga _ Meditation-D4wktgOJ.js";function P(t){return(typeof t=="string"?new Date(t):t).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})}const ce="/assets/in-villa%20cooking%20chef%20party-CvokVU9v.jpg",de=({show:t,message:s,onClose:a})=>t?e.jsx("div",{className:"fixed bottom-8 right-8 z-50 animate-in slide-in-from-bottom-10 duration-500",children:e.jsxs("div",{className:"bg-[#1c1917] text-white px-6 py-4 rounded-sm shadow-2xl border-l-4 border-[#d4af37] flex items-center gap-4 min-w-[300px]",children:[e.jsx("div",{className:"bg-[#d4af37] rounded-full p-1",children:e.jsx("svg",{className:"w-4 h-4 text-black",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-xs font-bold text-[#d4af37] uppercase tracking-wider mb-0.5",children:"Front Desk Update"}),e.jsx("p",{className:"text-sm font-medium",children:s})]}),e.jsx("button",{onClick:a,className:"text-white/50 hover:text-white",children:"âœ•"})]})}):null,w="bg-[#0b1a2c]",A="text-[#d4af37]",me=[{id:"halfBoard",title:"Half Board Meal Plan (HB)",description:"Daily gourmet breakfast and 3-course dinner. Price is per person, per night.",price:35,currency:"USD",type:"per_person_per_night"},{id:"fullBoard",title:"Full Board Meal Plan (FB)",description:"Daily gourmet breakfast, lunch, and dinner. Price is per person, per night.",price:65,currency:"USD",type:"per_person_per_night"},{id:"earlyCheckIn",title:"Guaranteed Early Check-in (10:00)",description:"Ensures early access to your room from 10:00 AM (Standard 14:00). Flat fee per stay.",price:50,currency:"USD",type:"per_stay"},{id:"lateCheckOut",title:"Guaranteed Late Check-out (16:00)",description:"Extends departure time until 16:00 (Standard 12:00). Flat fee per stay.",price:75,currency:"USD",type:"per_stay"},{id:"airportTransfer",title:"Luxury Airport Transfer (Return)",description:"Seamless, private sedan transfer to and from the resort.",price:100,currency:"USD",type:"per_stay"},{id:"laundry",title:"Express Laundry Service",description:"Priority 24-hour turnaround for up to 10 items per stay.",price:40,currency:"USD",type:"per_stay"},{id:"cleaning",title:"Deep Cleaning & Refresh",description:"One-time enhanced deep cleaning service with aromatherapy refresh.",price:60,currency:"USD",type:"per_stay"},{id:"massage",title:"In-Residence Couple's Massage",description:"60-minute therapeutic massage for two, performed in your private suite.",price:150,currency:"USD",type:"per_stay"},{id:"champagne",title:"Dom PÃ©rignon Welcome Amenity",description:"A chilled bottle of 2013 Dom PÃ©rignon awaiting your arrival.",price:380,currency:"USD",type:"per_stay"},{id:"breakfast",title:"Daily Gourmet Breakfast Upgrade",description:"Exclusive all-day access to our a la carte dining experience for all registered guests, per night.",price:15,currency:"USD",type:"per_person_per_night"}],_=t=>t==null?"â€”":`${Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(Number(t))}`,xe=t=>_(t),S=t=>`w-full text-left px-5 py-3 text-sm font-semibold tracking-wider ${t?`bg-white/10 ${A} border-l-4 border-[#d4af37]`:"text-white/80 hover:bg-white/5"} transition`,F=(t,s)=>{const a={green:"bg-green-100 text-green-700 border-green-300",blue:"bg-blue-100 text-blue-700 border-blue-300",amber:"bg-amber-100 text-amber-700 border-amber-300",neutral:"bg-neutral-100 text-neutral-700 border-neutral-300",red:"bg-red-100 text-red-700 border-red-300",purple:"bg-purple-100 text-purple-700 border-purple-300"};return e.jsx("span",{className:`inline-flex items-center px-3 py-1 text-xs font-semibold tracking-wider border ${a[t]}`,children:s})},Y=t=>{switch(t){case"Confirmed":case"Checked-out":return"green";case"Checked-in":return"blue";case"Pending":return"amber";case"Pending Verification":return"purple";case"Cancelled":case"Declined":return"red";default:return"neutral"}},G=t=>{const s=(t||"").toLowerCase();return s.includes("completed")?"green":s.includes("ready")?"blue":s.includes("preparing")?"amber":(s.includes("cancelled"),"neutral")},T=(t,s)=>{const a=s.length,u=s.slice(0,3).map(o=>({name:o.name,qty:o.quantity,price:o.price*o.quantity})),b=e.jsxs("div",{className:"space-y-2 text-sm text-neutral-700 mt-3 border-t border-b border-neutral-100 py-3",children:[e.jsxs("p",{className:"font-semibold text-base mb-1 text-neutral-800",children:["Items in Order (",a,")"]}),u.map((o,j)=>e.jsxs("p",{className:"flex justify-between items-center text-sm text-neutral-600",children:[e.jsxs("span",{className:"font-medium text-neutral-700",children:[o.name," Ã— ",o.qty]}),e.jsx("span",{className:"font-semibold text-neutral-800",children:xe(o.price)})]},j)),a>3&&e.jsxs("p",{className:"text-xs italic text-neutral-500 pt-1",children:["... and ",a-3," more item(s)."]})]});let n,l;switch(t){case"Completed":n="Your culinary experience is complete. Bon AppÃ©tit!",l="Review Details";break;case"Ready":n="Your butler is now en route with your order.",l="Track Live";break;case"Preparing":n="The chef is crafting your order with precision.",l="Track Live";break;case"Cancelled":n="This order has been cancelled.",l="Details";break;case"Received":default:n="Order secured and routed to the kitchen.",l="Track Live";break}const N=({status:o})=>{const j=G(o),m={green:"bg-green-100 text-green-700 border-green-300",blue:"bg-blue-100 text-blue-700 border-blue-300",amber:"bg-amber-100 text-amber-700 border-amber-300",neutral:"bg-stone-200 text-stone-600 border-stone-300",red:"bg-red-100 text-red-700 border-red-300",purple:"bg-purple-100 text-purple-700 border-purple-300"};return e.jsx("span",{className:`inline-flex items-center px-4 py-1.5 text-sm font-semibold border ${m[j]}`,children:o})};return{pill:e.jsx(N,{status:t}),message:n,linkText:l,itemDetails:b}};function ue(t){const s=new Date(t.checkIn),a=new Date(t.checkOut),u=new Date;if(u.setHours(0,0,0,0),t.status==="Checked-in"){const l=new Date(a);l.setDate(l.getDate()+1),l.setHours(0,0,0,0);const N=l.getTime()-new Date().getTime(),o=Math.ceil(N/(1e3*60*60*24));return Math.max(0,o)}const n=s.getTime()-u.getTime();return Math.max(0,Math.ceil(n/(1e3*60*60*24)))}function V(t){const s=t;let a=null;if(s.notes)try{a=JSON.parse(s.notes)?.uiEstimateUSD??null}catch{}return a===null&&(a=s?.total??s?.totalPrice??s?.amount??s?.price??null),a!=null&&typeof a=="number"?_(a):"â€”"}function he(t){const s=t,a=s?.total??s?.totalAmount??s?.amount??s?.price??null;return a!=null&&typeof a=="number"?_(a):"â€”"}const pe=[{title:"Gourmet Cooking Class ðŸ§‘â€ðŸ³",description:"Master local cuisine with our Executive Chef. Hands-on experience guaranteed!",callToAction:"Book Now",link:"/experience/cooking",image:ne},{title:"Mixology Masterclass ðŸ¸ (18+)",description:"Craft signature cocktails with our expert mixologist. Must be 18+.",callToAction:"Sign Up",link:"/experience/mixology",image:ie,isAgeRestricted:!0},{title:"Sunset Yoga & Meditation ðŸ§˜â€â™€ï¸",description:"Rejuvenate your mind and body with a complimentary session for Elite Guests.",callToAction:"View Schedule",link:"/experience/yoga",image:le},{title:"Private Beachside Dinner ðŸ½ï¸",description:"Special 3-course menu for a romantic evening right on the sand. A must-try.",callToAction:"Reserve Table",link:"/experience/dining",image:ae},{title:"Exclusive Guided Snorkeling Tour ðŸ ",description:"Discover hidden coves and vibrant marine life on a guided, personalized tour.",callToAction:"Explore Tours",link:"/experience/snorkeling",image:oe}],be=()=>{const s=pe,a=p.useMemo(()=>[...s,...s.slice(0,3)],[s]),u=s.length,[b,n]=p.useState(0),[l,N]=p.useState(!0);p.useEffect(()=>{const m=setInterval(()=>n(v=>v+1),5e3);return()=>clearInterval(m)},[]),p.useEffect(()=>{if(b===u){const m=setTimeout(()=>{N(!1),n(0),requestAnimationFrame(()=>{requestAnimationFrame(()=>N(!0))})},500);return()=>clearTimeout(m)}},[b,u]);const o=3,j=b%o;return e.jsxs("section",{className:"border border-neutral-200 bg-white shadow overflow-hidden max-w-5xl mx-auto",children:[e.jsx("div",{className:"p-6 border-b border-neutral-100",children:e.jsx("h3",{className:"font-serif text-xl font-bold text-neutral-900",children:"âœ¨ More Ways to Elevate Your Stay"})}),e.jsx("div",{className:"relative overflow-hidden p-6",children:e.jsx("div",{className:"flex",style:{width:`${a.length/3*100}%`,transform:`translateX(-${b/a.length*100}%)`,transition:l?"transform 500ms ease-in-out":"none"},children:a.map((m,v)=>e.jsx("div",{className:"flex-shrink-0 px-3",style:{width:`${100/a.length}%`},children:e.jsxs("div",{className:"border border-neutral-200 shadow-sm p-4 h-full flex flex-col",children:[e.jsx("img",{src:m.image,alt:m.title,className:"h-40 w-full object-cover mb-4"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-lg mb-1",children:m.title}),e.jsx("p",{className:"text-sm text-neutral-600 mb-4",children:m.description})]}),e.jsx(g,{to:m.link,className:"block text-center px-4 py-2 font-semibold text-sm bg-pink-100 hover:bg-pink-200 text-pink-900 border border-pink-200 transition",children:m.callToAction})]})},v))})}),e.jsx("div",{className:"flex justify-center pb-4 space-x-2",children:Array.from({length:o}).map((m,v)=>e.jsx("button",{onClick:()=>n(v),className:`w-3 h-3 border-2 border-transparent transition-all duration-300 ${j===v?`${w} ring-2 ring-offset-2 ring-[#d4af37]`:"bg-neutral-300 hover:bg-neutral-400"}`},v))})]})},D=({label:t,value:s})=>e.jsxs("div",{className:"border border-neutral-200 p-4 bg-neutral-50/50",children:[e.jsx("div",{className:"text-neutral-500 text-sm font-medium",children:t}),e.jsx("div",{className:"font-semibold text-neutral-800 break-all",children:s||"â€”"})]}),fe=({addOnId:t})=>{const s=me.find(b=>b.id===t);if(!s)return null;let a="",u=null;switch(s.id){case"halfBoard":case"fullBoard":a="Your meal plan is linked to your room profile. Simply provide your name and room number at our restaurants to redeem. This applies to all registered adults in your party.",u=e.jsxs("div",{className:"flex gap-4 mt-2",children:[e.jsx(g,{to:"/restaurants/vive-oceane",className:"text-sm text-amber-700 underline hover:text-amber-500",children:"Vive Oceane Menu"}),e.jsx(g,{to:"/restaurants/savory-sizzle",className:"text-sm text-amber-700 underline hover:text-amber-500",children:"Savory Sizzle Menu"})]});break;case"earlyCheckIn":case"lateCheckOut":a="This service is guaranteed and has been noted by our front desk team. You may proceed to the resort at your selected time.";break;case"airportTransfer":case"laundry":case"cleaning":a="Our concierge will contact you to confirm the necessary timing or details. Alternatively, please dial 'Concierge' from your room phone upon arrival.";break;case"massage":a="Our spa team will contact you to schedule your in-residence treatment. Alternatively, you may dial 'Spa' from your room phone upon arrival.";break;default:a="Please present your booking confirmation at the front desk to redeem this service."}return e.jsxs("div",{className:"border border-neutral-200 bg-white shadow-md",children:[e.jsxs("div",{className:`${w} text-white p-4 flex justify-between items-center`,children:[e.jsx("h4",{className:"text-xl font-bold text-white tracking-wide",children:s.title}),e.jsx("span",{className:`text-xl font-bold ${A} flex-shrink-0 ml-4`,children:_(s.price)})]}),e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsx("div",{className:"pt-2",children:e.jsx("p",{className:"text-sm text-stone-600",children:s.description})}),e.jsxs("div",{className:"pt-3 border-t border-stone-200",children:[e.jsx("p",{className:"text-sm font-bold text-stone-700 mb-2",children:"How to Redeem:"}),e.jsx("p",{className:"text-sm text-stone-600 leading-relaxed",children:a}),u]})]})]})},we=()=>{const{user:t,logout:s}=K(),a=Q(),[u,b]=Z(),n=u.get("sec")||"dashboard",l=r=>{const i=new URLSearchParams(u);i.set("sec",r),b(i,{replace:!0})},[N,o]=p.useState([]),[j,m]=p.useState([]),[v,I]=p.useState(!0),[O,E]=p.useState(null),[M,C]=p.useState({show:!1,msg:""});p.useEffect(()=>{(async()=>{try{E(null),I(!0);const[i,x]=await Promise.all([ee(),te()]);o(Array.isArray(i)?i:[]),m(Array.isArray(x)?x:[])}catch{E("Failed to load profile data")}finally{I(!1)}})();const r=se("http://localhost:4000",{transports:["websocket"]});return r.on("connect",()=>{console.log("âœ… Connected to Socket.io")}),r.on("booking:updated",i=>{o(x=>{if(!x.find(f=>f._id===i._id))return x;const k=x.map(f=>f._id===i._id?i:f);return C({show:!0,msg:`Your reservation status updated to: ${i.status}`}),setTimeout(()=>C({show:!1,msg:""}),5e3),k})}),r.on("order:updated",i=>{m(x=>{if(!x.find(f=>f._id===i._id))return x;const k=x.map(f=>f._id===i._id?i:f);return C({show:!0,msg:`Your order status updated to: ${i.status}`}),setTimeout(()=>C({show:!1,msg:""}),5e3),k})}),()=>{r.disconnect()}},[]);const z=["Pending","Confirmed","Checked-in","Pending Verification"],H=["Checked-out","Declined","Cancelled"],q=[...N].filter(r=>z.includes(r.status)).sort((r,i)=>+new Date(r.checkIn)-+new Date(i.checkIn)),R=[...N].filter(r=>H.includes(r.status)).sort((r,i)=>+new Date(r.checkIn)-+new Date(i.checkIn)),d=q[0],h=p.useMemo(()=>{if(!d||!d.notes)return null;try{return JSON.parse(d.notes)}catch{return null}},[d]),L=p.useMemo(()=>h?.selectedAddOns||[],[h]),y=p.useMemo(()=>{if(j.length===0)return null;const r=["Completed","Delivered","Cancelled"],i=j.filter(x=>!r.includes(x.status));return i.length===0?null:i.sort((x,c)=>+new Date(c.createdAt||0)-+new Date(x.createdAt||0))[0]||null},[j]);if(v)return e.jsx("p",{className:"max-w-6xl mx-auto py-20 text-center text-xl",children:"Loading your Elite Portalâ€¦"});if(O)return e.jsxs("p",{className:"max-w-6xl mx-auto py-20 text-center text-xl text-red-700",children:["Error: ",O]});const $=({message:r})=>e.jsx("div",{className:"p-12 text-center bg-white/70",children:e.jsx("p",{className:"text-neutral-500 italic text-lg",children:r})}),W=()=>{const r=[...j].sort((c,k)=>+new Date(k.createdAt||0)-+new Date(c.createdAt||0)),i=c=>G(c),x={green:"text-green-700",blue:"text-blue-700",amber:"text-amber-700",red:"text-red-700",neutral:"text-stone-500",purple:"text-purple-700"};return e.jsxs("section",{className:"border border-neutral-200 bg-white shadow-lg overflow-hidden",children:[e.jsx("div",{className:"relative p-6 border-b bg-[#0b1a2c] text-white",children:e.jsx("h2",{className:"font-serif text-2xl font-bold",children:"In-Room Dining Orders"})}),r.length===0?e.jsxs("div",{className:"p-16 text-center",children:[e.jsx("p",{className:"text-neutral-700 mb-6",children:"No in-room orders yet."}),e.jsx(g,{to:"/restaurants",className:`px-6 py-3 ${w} text-white font-semibold hover:bg-neutral-900 transition`,children:"Explore Menu"})]}):e.jsx("div",{className:"overflow-x-auto bg-white",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"bg-neutral-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left font-semibold",children:"Order"}),e.jsx("th",{className:"px-6 py-3 text-left font-semibold",children:"Placed"}),e.jsx("th",{className:"px-6 py-3 text-left font-semibold",children:"Total"}),e.jsx("th",{className:"px-6 py-3 text-left font-semibold",children:"Status"})]})}),e.jsx("tbody",{children:r.map(c=>{const k=c.items?.length??c.qty??0,f=c.createdAt||c.placedAt||new Date().toISOString(),J=he(c),X=i(c.status||""),U=c.status==="Cancelled";return e.jsxs("tr",{className:`border-t hover:bg-neutral-50 transition cursor-pointer ${U?"opacity-60 bg-stone-50":""}`,onClick:()=>a(`/orders/${c._id}/status`),children:[e.jsxs("td",{className:"px-6 py-4 font-medium",children:[k," items"]}),e.jsx("td",{className:"px-6 py-4 text-neutral-600",children:new Date(f).toLocaleString()}),e.jsx("td",{className:`px-6 py-4 font-bold ${U?"text-stone-400 line-through":"text-neutral-800"}`,children:J}),e.jsx("td",{className:`px-6 py-4 font-semibold ${x[X]}`,children:c.status||"Received"})]},c._id||c.id)})})]})})]})};return e.jsxs("div",{className:"min-h-screen bg-neutral-50",children:[e.jsx(de,{show:M.show,message:M.msg,onClose:()=>C({show:!1,msg:""})}),e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:B,alt:"Luxury beach resort view",className:"h-60 w-full object-cover contrast-110 shadow-lg"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/70 to-black/30"}),e.jsx("div",{className:"absolute inset-0 max-w-6xl mx-auto px-4 flex items-end pb-8",children:e.jsxs("div",{className:"text-white",children:[e.jsxs("p",{className:"text-lg font-light tracking-wider opacity-90",children:["Welcome back, ",t?.name||"Guest"]}),e.jsx("h1",{className:"text-4xl font-serif font-bold tracking-wide mt-1",children:"Elite Portal"})]})})]}),e.jsx("div",{className:"max-w-6xl mx-auto px-4 py-10",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-start gap-8",children:[e.jsx("aside",{className:"md:w-64 w-full shrink-0",children:e.jsx("div",{className:"sticky top-24 border border-neutral-300 shadow-xl overflow-hidden",style:{backgroundImage:`url(${B})`,backgroundSize:"cover",backgroundPosition:"center"},children:e.jsxs("div",{className:"relative z-10 bg-[#0b1a2c]/90 backdrop-blur-sm",children:[e.jsx("div",{className:"p-6 border-b border-white/10",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-14 w-14 border border-[#d4af37] bg-[#d4af37] text-black flex items-center justify-center font-bold text-xl ring-2 ring-[#d4af37]/50",children:t?.name?t.name.trim()[0]:"G"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-lg leading-tight text-white",children:t?.name||"Guest"}),e.jsx("span",{className:`inline-flex items-center px-3 py-1 text-xs font-semibold tracking-wider border ${A} bg-white/20 border-white/30 text-white`,children:"Platinum Status"})]})]})}),e.jsxs("nav",{className:"space-y-0 divide-y divide-white/10",children:[e.jsx("button",{className:S(n==="upcoming"),onClick:()=>l("upcoming"),children:"Current & Upcoming Stays"}),e.jsx("button",{className:S(n==="orders"),onClick:()=>l("orders"),children:"In-Room Orders"}),e.jsx("button",{className:S(n==="past"),onClick:()=>l("past"),children:"Past Bookings"}),e.jsx("button",{className:S(n==="account"),onClick:()=>l("account"),children:"Personal Information"}),e.jsx("button",{className:S(n==="preferences"),onClick:()=>l("preferences"),children:"Preferences"}),e.jsx("button",{className:S(n==="support"),onClick:()=>l("support"),children:"Support / Concierge Chat"})]}),e.jsx("div",{className:"border-t border-white/10 p-4",children:e.jsx("button",{onClick:s,className:"w-full py-3 font-semibold text-sm bg-red-600 text-white hover:bg-red-700 transition shadow-md",children:"Logout"})})]})})}),e.jsxs("main",{className:"flex-1 space-y-8",children:[(n==="dashboard"||n==="upcoming")&&e.jsxs("section",{className:"border border-neutral-200 bg-white shadow-xl overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-neutral-100",children:e.jsx("div",{className:"flex items-center gap-6",children:e.jsx("h2",{className:"font-serif text-3xl font-bold text-neutral-900",children:"Current & Upcoming Stays"})})}),d?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid lg:grid-cols-2 gap-0",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:re,alt:"Upcoming stay room image",className:"h-80 w-full object-cover"}),e.jsxs("div",{className:"absolute inset-x-0 bottom-0 bg-gradient-to-t from-black/70 to-transparent px-6 pb-6 pt-20",children:[e.jsx("p",{className:"text-white/80 text-lg",children:"Your next escape in:"}),e.jsxs("p",{className:"text-white text-5xl font-extrabold tracking-tight",children:[ue(d)," days"]})]})]}),e.jsxs("div",{className:"p-6 space-y-4 flex flex-col justify-center",children:[e.jsx("p",{className:"text-xl font-serif font-bold text-neutral-800",children:typeof d.room=="string"?d.room:d.room?.title||"Luxury Stay"}),e.jsxs("div",{className:"text-base text-neutral-600",children:[e.jsx("span",{className:"font-medium",children:"Check-in:"})," ",P(d.checkIn)," ",e.jsx("span",{className:"mx-2",children:"Â·"})," ",P(d.checkOut)]}),e.jsxs("div",{className:"flex items-center gap-3",children:[F(Y(d.status),d.status),e.jsx("span",{className:`font-bold ${A}`,children:V(d)})]}),e.jsxs("div",{className:"pt-2 flex flex-wrap gap-3",children:[e.jsx(g,{to:`/bookings/${d._id}`,className:"px-6 py-3 font-semibold text-sm border border-neutral-300 text-neutral-700 hover:bg-neutral-100 transition shadow-sm",children:"View/Modify Booking"}),d.status==="Pending Verification"&&e.jsx(g,{to:`/booking/verify?id=${d._id}`,className:"px-6 py-3 font-semibold text-sm bg-amber-500 text-white hover:bg-amber-600 transition shadow-sm",children:"Check Email to Verify"})]})]})]}),y&&e.jsxs("div",{className:"border-t border-neutral-200 mt-8 pt-8",children:[e.jsx("div",{className:"p-6 pt-0",children:e.jsx("h3",{className:"font-serif text-3xl font-bold text-stone-800 mb-4",children:"In-Residence Dining Status"})}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-0 border border-neutral-200 mx-6 mb-6 bg-white shadow-md",children:[e.jsxs("div",{className:"p-6 space-y-4 flex flex-col justify-center",children:[e.jsx("div",{className:"flex items-center space-x-3 pb-2",children:T(y.status,y.items).pill}),T(y.status,y.items).itemDetails,e.jsx("p",{className:"text-sm font-medium text-neutral-700 pt-1",children:T(y.status,y.items).message}),e.jsx(g,{to:`/orders/${y._id}/status`,className:`px-6 py-3 font-semibold text-sm text-white ${w} hover:bg-neutral-900 transition max-w-xs text-center`,children:T(y.status,y.items).linkText})]}),e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:ce,alt:"Chef preparing order in residence",className:"h-80 w-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center",children:e.jsx("p",{className:"text-white text-xl font-serif font-bold text-center",children:"Bon AppÃ©tit!"})})]})]})]})]}):e.jsxs("div",{className:"p-16 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-neutral-100 rounded-full flex items-center justify-center mx-auto mb-6 text-3xl shadow-sm",children:"âœˆï¸"}),e.jsx("h3",{className:"text-xl font-serif font-bold text-neutral-800 mb-2",children:"Your Next Journey Awaits"}),e.jsx("p",{className:"text-neutral-600 mb-8 max-w-md mx-auto leading-relaxed",children:"You currently have no upcoming reservations. The sun, sand, and sea are ready for your return."}),e.jsx(g,{to:"/rooms",className:`px-8 py-3 ${w} text-white font-semibold hover:bg-neutral-900 transition shadow-md uppercase tracking-wider text-sm`,children:"Plan Your Stay"})]})]}),n==="past"&&e.jsxs("section",{className:"border border-neutral-200 bg-white shadow-xl overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-neutral-100",children:e.jsx("h2",{className:"font-serif text-2xl font-bold text-neutral-900",children:"Past Bookings"})}),R.length===0?e.jsx($,{message:"No past bookings to show."}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left bg-neutral-50/70 border-b border-neutral-100",children:[e.jsx("th",{className:"px-6 py-4 font-semibold text-neutral-700",children:"Resort / Room"}),e.jsx("th",{className:"px-6 py-4 font-semibold text-neutral-700",children:"Dates"}),e.jsx("th",{className:"px-6 py-4 font-semibold text-neutral-700",children:"Status"}),e.jsx("th",{className:"px-6 py-4 font-semibold text-neutral-700",children:"Total Price"}),e.jsx("th",{className:"px-6 py-4 font-semibold text-neutral-700",children:"Actions"})]})}),e.jsx("tbody",{children:R.map(r=>e.jsxs("tr",{className:"border-b border-neutral-100 hover:bg-neutral-50 transition",children:[e.jsx("td",{className:"px-6 py-4 font-medium",children:typeof r.room=="string"?r.room:r.room?.title||"Room"}),e.jsxs("td",{className:"px-6 py-4 text-neutral-600",children:[P(r.checkIn)," â†’ ",P(r.checkOut)]}),e.jsx("td",{className:"px-6 py-4",children:F(Y(r.status),r.status)}),e.jsx("td",{className:"px-6 py-4 font-bold text-neutral-800",children:V(r)}),e.jsxs("td",{className:"px-6 py-4 space-x-3",children:[e.jsx(g,{to:`/bookings/${r._id}`,className:"text-sm underline text-neutral-700",children:"View Details"}),e.jsx(g,{to:"/rooms",className:"text-sm underline text-neutral-700",children:"Re-book"})]})]},r._id))})]})})]}),n==="account"&&e.jsxs("section",{className:"border border-neutral-200 bg-white shadow-xl overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-neutral-100",children:e.jsx("h2",{className:"font-serif text-2xl font-bold text-neutral-900",children:"Personal Information"})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[e.jsx(D,{label:"Full Name",value:t?.name||`${h?.title||""} ${h?.firstName||""} ${h?.lastName||""}`.trim()}),e.jsx(D,{label:"Email Address",value:t?.email||h?.email}),e.jsx(D,{label:"Contact Phone",value:h?h.phone:"Will be updated with your next booking"}),e.jsx(D,{label:"Country of Residence",value:h?h.country:"Will be updated with your next booking"})]}),!h&&e.jsx("div",{className:"pt-2 text-center",children:e.jsx("p",{className:"text-xs text-stone-500 italic",children:"Guest details are refreshed with every new reservation to ensure accuracy."})})]})]}),n==="orders"&&e.jsx(W,{}),n==="preferences"&&e.jsxs("section",{className:"border border-neutral-200 bg-white shadow-xl overflow-hidden",children:[e.jsx("div",{className:`${w} p-6 border-b border-neutral-100`,children:e.jsx("h2",{className:"font-serif text-2xl font-bold text-white",children:"Personalized Preferences"})}),e.jsx("div",{className:"p-6 space-y-6",children:h?e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-stone-800 mb-4",children:"Your Purchased Add-ons"}),e.jsx("div",{className:"space-y-4",children:L.length>0?L.map(r=>e.jsx(fe,{addOnId:r},r)):e.jsx($,{message:"No add-on preferences saved from your last booking."})})]}),e.jsxs("div",{className:"pt-6 border-t border-stone-200",children:[e.jsx("div",{className:`${w} text-white p-3 -mx-6 -mt-6 mb-4`,children:e.jsx("h3",{className:"text-xl font-bold text-white",children:"Your Concierge Notes"})}),h?.freeNotes?e.jsx(D,{label:"Notes from last booking",value:h.freeNotes}):e.jsx($,{message:"No specific notes on file."})]})]}):e.jsxs("div",{className:"p-12 text-center",children:[e.jsx("p",{className:"text-stone-500 italic text-lg mb-4",children:"Enhancements and concierge notes will appear here once you have an active reservation."}),e.jsx(g,{to:"/rooms",className:"text-amber-700 underline font-semibold",children:"Start Planning"})]})})]}),n==="support"&&e.jsxs("section",{className:"border border-neutral-200 bg-white shadow-xl overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-neutral-100",children:e.jsx("h2",{className:"font-serif text-2xl font-bold text-neutral-900",children:"Concierge & Support"})}),e.jsx("div",{className:"p-6 space-y-4",children:e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsx("a",{href:"tel:+842363558888",className:"border border-neutral-400 text-neutral-800 px-6 py-3 font-semibold text-sm hover:bg-neutral-100 transition shadow-sm",children:"Call Concierge"}),e.jsx("a",{href:"mailto:support@resort.com",className:"border border-neutral-400 text-neutral-800 px-6 py-3 font-semibold text-sm hover:bg-neutral-100 transition shadow-sm",children:"Email Support"}),e.jsx("button",{className:`font-semibold text-sm px-6 py-3 text-white ${w} hover:bg-neutral-900 transition shadow-md`,children:"Start Live Chat"})]})})]}),e.jsx(be,{})]})]})}),e.jsx("footer",{className:"mt-10 border-t bg-white",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6 text-sm text-neutral-600 flex flex-wrap gap-6",children:[e.jsx("span",{children:"Secure & Encrypted Data"}),e.jsx("span",{children:"Terms of Service"})]})})]})};export{we as default};
