import{u as y,R as o,S as j,j as e}from"./index-DGXRDi1R.js";const N=[{label:"Savory Sizzle (Buffet)",value:"savory-sizzle"},{label:"Vive Oceane (Beach)",value:"vive-oceane"}],k=[{label:"Breakfast",value:"breakfast"},{label:"Lunch & Dinner",value:"lunch_dinner"},{label:"Food Dining",value:"food_dining"},{label:"Beverages & Wines",value:"beverage_wine"}],w=l=>l&&l.length?l.join(", "):"",C=l=>l.split(",").map(c=>c.trim()).filter(Boolean),q=({initial:l,onSubmit:c,submitting:u})=>{const b=y(),[p,i]=o.useState([]),[s,d]=o.useState({name:l?.name??"",restaurant:l?.restaurant??"savory-sizzle",mealType:l?.mealType??"lunch_dinner",category:l?.category??"",price:Number(l?.price??0),quantity:l?.quantity??null,available:l?.available??!0,photo:l?.photo??"",description:l?.description??"",tags:l?.tags??[]}),[m,x]=o.useState(w(s.tags));o.useEffect(()=>{(async()=>{try{const a=await j();i(Array.isArray(a)?a:a?.categories??[])}catch{i([])}})()},[]);const t=a=>{const{name:n,value:r,type:h}=a.target,f=a.target.checked;d(v=>({...v,[n]:h==="checkbox"?f:n==="price"?Number(r):r}))},g=async a=>{a.preventDefault();const n={...s,tags:C(m)};await c(n)};return e.jsxs("form",{onSubmit:g,className:"space-y-6 bg-white p-6 rounded-2xl border border-neutral-200 shadow-sm",children:[e.jsxs("div",{className:"grid gap-6 sm:grid-cols-2",children:[e.jsxs("label",{className:"block sm:col-span-2",children:[e.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-neutral-500 mb-1",children:"Dish Name"}),e.jsx("input",{name:"name",value:s.name,onChange:t,className:"w-full border-b border-neutral-300 bg-transparent py-2 text-lg font-medium placeholder-neutral-400 focus:border-black focus:outline-none",placeholder:"e.g. Truffle Risotto",required:!0})]}),e.jsxs("label",{className:"block",children:[e.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-neutral-500 mb-1",children:"Restaurant"}),e.jsx("select",{name:"restaurant",value:s.restaurant,onChange:t,className:"w-full rounded-lg border border-neutral-200 bg-neutral-50 px-3 py-2 focus:ring-2 focus:ring-black focus:outline-none",required:!0,children:N.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))})]}),e.jsxs("label",{className:"block",children:[e.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-neutral-500 mb-1",children:"Meal Period"}),e.jsx("select",{name:"mealType",value:s.mealType,onChange:t,className:"w-full rounded-lg border border-neutral-200 bg-neutral-50 px-3 py-2 focus:ring-2 focus:ring-black focus:outline-none",required:!0,children:k.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))})]}),e.jsxs("label",{className:"block",children:[e.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-neutral-500 mb-1",children:"Category"}),e.jsxs("select",{name:"category",value:typeof s.category=="object"?s.category._id:s.category,onChange:t,className:"w-full rounded-lg border border-neutral-200 bg-neutral-50 px-3 py-2 focus:ring-2 focus:ring-black focus:outline-none",required:!0,children:[e.jsx("option",{value:"",disabled:!0,children:"Select Category"}),p.map(a=>e.jsx("option",{value:a._id??a.name,children:a.name},a._id??a.name))]})]}),e.jsxs("label",{className:"block",children:[e.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-neutral-500 mb-1",children:"Price ($)"}),e.jsx("input",{type:"number",min:0,step:.5,name:"price",value:s.price,onChange:t,className:"w-full rounded-lg border border-neutral-200 px-3 py-2 focus:ring-2 focus:ring-black focus:outline-none",required:!0})]}),e.jsxs("label",{className:"block",children:[e.jsxs("div",{className:"text-xs font-bold uppercase tracking-wider text-neutral-500 mb-1",children:["Daily Quantity ",e.jsx("span",{className:"font-normal text-neutral-400",children:"(Empty = Unlimited)"})]}),e.jsx("input",{type:"number",min:0,step:1,name:"quantity",value:s.quantity??"",onChange:a=>{const n=a.target.value;d(r=>({...r,quantity:n===""?null:parseInt(n)}))},className:"w-full rounded-lg border border-neutral-200 px-3 py-2 focus:ring-2 focus:ring-black focus:outline-none",placeholder:"e.g. 5"})]})]}),e.jsxs("div",{className:"grid gap-6 sm:grid-cols-2",children:[e.jsxs("label",{className:"block sm:col-span-2",children:[e.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-neutral-500 mb-1",children:"Description"}),e.jsx("textarea",{name:"description",value:s.description,onChange:t,rows:3,className:"w-full rounded-lg border border-neutral-200 px-3 py-2 focus:ring-2 focus:ring-black focus:outline-none",placeholder:"Ingredients, taste profile..."})]}),e.jsxs("label",{className:"block",children:[e.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-neutral-500 mb-1",children:"Photo URL"}),e.jsx("input",{name:"photo",value:s.photo,onChange:t,className:"w-full rounded-lg border border-neutral-200 px-3 py-2 focus:ring-2 focus:ring-black focus:outline-none",placeholder:"https://..."})]}),e.jsxs("label",{className:"block",children:[e.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-neutral-500 mb-1",children:"Tags"}),e.jsx("input",{value:m,onChange:a=>x(a.target.value),className:"w-full rounded-lg border border-neutral-200 px-3 py-2 focus:ring-2 focus:ring-black focus:outline-none",placeholder:"Spicy, GF, Vegan"})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("div",{className:`w-12 h-6 rounded-full p-1 transition-colors ${s.available?"bg-green-500":"bg-neutral-200"}`,children:e.jsx("div",{className:`w-4 h-4 rounded-full bg-white shadow-sm transition-transform ${s.available?"translate-x-6":""}`})}),e.jsx("input",{type:"checkbox",name:"available",checked:!!s.available,onChange:t,className:"hidden"}),e.jsx("span",{className:"text-sm font-medium text-neutral-700",children:s.available?"Item is Available":"Sold Out (86'd)"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{type:"button",onClick:()=>b(-1),className:"px-4 py-2 text-sm font-medium text-neutral-600 hover:text-neutral-900",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:!!u,className:"rounded-xl bg-black px-6 py-2 text-sm font-medium text-white hover:bg-neutral-800 disabled:opacity-50",children:u?"Saving...":"Save Menu Item"})]})]})]})};export{q as A};
